<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="./theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="./theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="./theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="stevet">
  <meta name="description" content="Posts and writings by stevet">

  <link href="/atom/%s_all.atom.xml" type="application/atom+xml" rel="alternate" title="static_site_test Atom" />

<meta name="keywords" content="">

  <title>
    static_site_test
&ndash; Dang  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href=".">
        <img src="./theme/images/logo.png" alt="logo">
      </a>
      <h2><a href=".">stevet</a></h2>
      <p></p>
      <ul>
        <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
        <li><a href="http://python.org/" target="_blank">Python.org</a></li>
        <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
        <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        <li><a href="#" target="_blank">You can add links in your config file</a></li>
        <li><a href="#" target="_blank">Another social link</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href=".">Index</a> &brvbar; <a href="./archives.html">Archives</a>
      &brvbar; <a href="/atom/%s_all.atom.xml">Atom</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h3><a href="./Dang.html">Dang</a></h3>
  </div>
  <div class="article_text">
    <p>You know the old saying, "you learn something new every day?" Well it's true. Usually, it's something like "I don't know where I left my keys," but sometimes you run into something that you realized you should have known all along and yet somehow it takes you by surprise.   </p>
<p>Here's a little nugget that I stumbled onto today.  If you know Maya, you probably know that cmds.ls() with no arguments gives you a list of every entity in your current maya scene.  However if you pass in a list, ls() will filter it down.  It's very common to do something like</p>
<div class="highlight"><pre><span></span>stuff = [&#39;pCubeShape1&#39;, &#39;top&#39;, &#39;persp&#39;]  
cmds.ls(stuff, type = &#39;camera&#39;)
</pre></div>


<p>as a cheap way of filtering a list of objects by type, or</p>
<div class="highlight"><pre><span></span>cmds.ls(stuff, l = True)
</pre></div>


<p>to get long names and so on.  All pretty 101.</p>
<p>Now, if you're an old Pythonista, you've probably tried it like this too:</p>
<div class="highlight"><pre><span></span>cmds.ls(*stuff, l = True)
</pre></div>


<p>and gotten the same result.  Usually, <em>args is a great help in writing simpler code, since you write functions that take an arbitrary number of arguments without forcing the callers to create lists or tuples. Your code can use loops or comprehensions knowing that the </em>args will be iterable even if it's empty:   </p>
<div class="highlight"><pre><span></span>def starargs(*args):  
    for idx, item in enumerate (args):  
        print idx, &#39;\t&#39;, item


starargs() # prints nothing

starargs(&#39;a&#39;)  
# 0  a

starargs(&#39;i&#39;, &#39;j&#39;, &#39;k&#39;)  
# 0  i  
# 1  j  
# 2 k

starargs(*[&#39;x&#39;,&#39;y&#39;,&#39;z&#39;])  
# 0    x  
# 1    y  
# 2    z
</pre></div>


<p>Unfortunately this nice behavior can bite you if you use it with cmds.ls().  It's easy to miss the difference between</p>
<div class="highlight"><pre><span></span>cmds.ls(stuff)
</pre></div>


<p>and </p>
<div class="highlight"><pre><span></span>cmds.ls(*stuff)
</pre></div>


<p>especially because most functions will treat these interchangeably.  </p>
<p>However (!) the <em><strong>no arguments means list everything</strong></em> behavior means that the first one returns and empty list, but the second returns <strong>a list of everything in Maya</strong>.  If you were using the ls() as a filter or a long-name-converter you are likely to be very surprised by the results. I was using it as part of a cleanup routine, and I suddenly discovered I was 'cleaning' everything in my scenes.   </p>
<p>Like I said, you learn something new everyday -- in this case, new curse words!</p>
<p>You can work around it simply enough by not passing *args to ls(), or at least by not doing so without checking if the argument is valid:  </p>
<div class="highlight"><pre><span></span>def list_xforms (*args):  
      if not args: return []  
      return cmds.ls(*args, type=&#39;transform&#39;)
</pre></div>


<p>Not an earth-shaking discovery, just another one of the many mysteries of the Maya.  </p>
<p><a href="http://www-tc.pbs.org/wgbh/nova/assets/img/posters/cracking-maya-code-vi.jpg"><img alt="" src="http://www-tc.pbs.org/wgbh/nova/assets/img/posters/cracking-maya-code-vi.jpg" /></a></p>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 10 January 2015</p>
    <p>Category: <a href="./category/blog.html">blog</a>
    </p>
  </div>


</article>


    <div id="ending_message">
      <p>&copy; stevet. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>