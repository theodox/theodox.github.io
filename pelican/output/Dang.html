<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="./theme/stylesheet/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="./theme/stylesheet/font-awesome.min.css">


    <link href="http://blog.theodox.com/atom/%s_all.atom.xml" type="application/atom+xml" rel="alternate" title="theodox.com Atom">



  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

<meta name="author" content="Steve Theodore" />
<meta name="description" content="An irritating behavior in cmds.ls() that can really ruin your day." />
<meta name="keywords" content="maya, bugs, techart">
<meta property="og:site_name" content="theodox.com"/>
<meta property="og:title" content="Dang"/>
<meta property="og:description" content="An irritating behavior in cmds.ls() that can really ruin your day."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="./Dang.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-01-10 16:09:00-08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="./author/steve-theodore.html">
<meta property="article:section" content="blog"/>
<meta property="article:tag" content="maya"/>
<meta property="article:tag" content="bugs"/>
<meta property="article:tag" content="techart"/>
<meta property="og:image" content="">
  <title>theodox.com &ndash; Dang</title>
</head>
<body>
  <aside>
    <div>
      <a href=".">
        <img src="./theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="."></a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="index.html" target="_blank">home</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
          <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
          <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/stevetheodore" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/theodox" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-google" href="https://plus.google.com/u/0/+SteveTheodore480BC/posts" target="_blank"><i class="fa fa-google"></i></a></li>
        <li><a class="sc-stack-overflow" href="http://stackoverflow.com/users/1936075/theodox" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h1 id="Dang">Dang</h1>
    <p>Posted on Sat 10 January 2015 in <a href="./category/blog.html">blog</a></p>
  </header>
  <div>
    <p>You know the old saying, "you learn something new every day?" Well it's true. Usually, it's something like "I don't know where I left my keys," but sometimes you run into something that you realized you should have known all along and yet somehow it takes you by surprise.   </p>
<p>Here's a little nugget that I stumbled onto today.  If you know Maya, you probably know that cmds.ls() with no arguments gives you a list of every entity in your current maya scene.  However if you pass in a list, ls() will filter it down.  It's very common to do something like</p>
<div class="highlight"><pre><span></span>stuff = [&#39;pCubeShape1&#39;, &#39;top&#39;, &#39;persp&#39;]  
cmds.ls(stuff, type = &#39;camera&#39;)
</pre></div>


<p>as a cheap way of filtering a list of objects by type, or</p>
<div class="highlight"><pre><span></span>cmds.ls(stuff, l = True)
</pre></div>


<p>to get long names and so on.  All pretty 101.</p>
<p>Now, if you're an old Pythonista, you've probably tried it like this too:</p>
<div class="highlight"><pre><span></span>cmds.ls(*stuff, l = True)
</pre></div>


<p>and gotten the same result.  Usually, <strong>*args</strong> is a great help in writing simpler code, since you write functions that take an arbitrary number of arguments without forcing the callers to create lists or tuples. Your code can use loops or comprehensions knowing that the <strong>*args</strong> will be iterable even if it's empty:   </p>
<div class="highlight"><pre><span></span>def starargs(*args):  
    for idx, item in enumerate (args):  
        print idx, &#39;\t&#39;, item


starargs() # prints nothing

starargs(&#39;a&#39;)  
# 0  a

starargs(&#39;i&#39;, &#39;j&#39;, &#39;k&#39;)  
# 0  i  
# 1  j  
# 2 k

starargs(*[&#39;x&#39;,&#39;y&#39;,&#39;z&#39;])  
# 0    x  
# 1    y  
# 2    z
</pre></div>


<p>Unfortunately this nice behavior can bite you if you use it with cmds.ls().  It's easy to miss the difference between</p>
<div class="highlight"><pre><span></span>cmds.ls(stuff)
</pre></div>


<p>and </p>
<div class="highlight"><pre><span></span>cmds.ls(*stuff)
</pre></div>


<p>especially because most functions will treat these interchangeably.  </p>
<p>However (!) the <em><strong>no arguments means list everything</strong></em> behavior means that the first one returns and empty list, but the second returns <strong>a list of everything in Maya</strong>.  If you were using the ls() as a filter or a long-name-converter you are likely to be very surprised by the results. I was using it as part of a cleanup routine, and I suddenly discovered I was 'cleaning' everything in my scenes.   </p>
<p>Like I said, you learn something new everyday -- in this case, new curse words!</p>
<hr />
<p>You can work around this behavior  simply enough by not passing *-formatted args to ls(), or at least by not doing so without checking if the argument is valid:  </p>
<div class="highlight"><pre><span></span>def list_xforms (*args):  
      if not args: return []  
      return cmds.ls(*args, type=&#39;transform&#39;)
</pre></div>


<p>Not an earth-shaking discovery, just another one of the many mysteries of the Maya.  </p>
<p><a href="http://www-tc.pbs.org/wgbh/nova/assets/img/posters/cracking-maya-code-vi.jpg"><img alt="" src="http://www-tc.pbs.org/wgbh/nova/assets/img/posters/cracking-maya-code-vi.jpg" /></a></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/maya.html">maya</a>
      <a href="./tag/bugs.html">bugs</a>
      <a href="./tag/techart.html">techart</a>
    </p>
  </div>
</article>

    <footer>
        <p>&copy; Steve Theodore </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Dang",
  "headline": "Dang",
  "datePublished": "2015-01-10 16:09:00-08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Steve Theodore",
    "url": "./author/steve-theodore.html"
  },
  "image": "{{ SITEURL }}/{{ THEME_STATIC_DIR }}/img/profile.png",
  "url": "./Dang.html",
  "description": "An irritating behavior in cmds.ls() that can really ruin your day."
}
</script></body>
</html>