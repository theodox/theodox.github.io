<!DOCTYPE html>
<html lang="en">
<head>
          <title>Chimeras & Manticores</title>
        <meta charset="utf-8" />
        <link href="http://theodox.com/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Chimeras & Manticores Full Atom Feed" />
        <link href="http://theodox.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Chimeras & Manticores Full RSS Feed" />



    <meta name="tags" content="boo" />
    <meta name="tags" content="programming" />
    <meta name="tags" content="python" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://theodox.com/">Chimeras & Manticores <strong>technical art, python, the games business, and obscurantism</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/about">About...</a></li>
            <li><a href="/pages/pub">Publications</a></li>
            <li><a href="http://astore.amazon.com/tecsurgui-20">Tech-Art Book Store</a></li>
            <li><a href="/pages/cookbook">Cookbook</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://theodox.com/2015/spelchek" rel="bookmark"
         title="Permalink to spelchek">spelchek</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2015-05-16T17:45:00-07:00">
      Sat 16 May 2015
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="http://theodox.com/author/steve-theodore.html">Steve Theodore</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h2>Spelchek</h2>
<p>I’m planning one of the worst things that can happen to a <span class="caps">TA</span>: a big massive file move-and-rename operation. Much as I love my team, we have a poor record as a company when it comes to spelling, and it occurred to me that I’d like to at least have some degree of automatic spell checking on the names of the new files, folders and assets.<br />
It turns out that there’s no good spell checker for Python that doesn’t come with some kind of extension module (<span class="caps">BTW</span>, I’d love to be wrong about that - if you know one definitely post it in the comments). <a href="http://pythonhosted.org/pyenchant/">PyEnchant</a> for example is great, but it’s got 32-bit only Windows extensions that I can’t distribute without a&nbsp;hassle.   </p>
<p><img alt="" src="https://s-media-cache-ak0.pinimg.com/236x/55/2c/b5/552cb539fcc6b8addffb0eb19ec98298.jpg" /></p>
<p>I did, however, find a very neat example of Python Power in a little post by Peter Norvig, who put together a simple spellchecker in a few dozen lines of plain, readable Python <a href="http://norvig.com/spell-correct.html">code and great explanations here</a>.   </p>
<p>I shamelessly borrowed his structure, with a couple of minor and not very creative tweaks. Norvig&#8217;s original is built around Bayesian analysis: it guesses the correct word by looking at the relative frequencies with which variants show up – if ‘meet’ shows up 1000 times in your database but ‘mete’ shows up 5 times, that’s a good indication that ‘meet’ is the correct first&nbsp;guess.   </p>
<p>Since I’m in a rush, I didn’t use that functionality very much. I scrounged around for as many sources correctly scored words. Unfortunately the only free source I could rely on turned out to be the venerable ‘<span class="caps">GSL</span>’ or ‘General Service List’, which has great data but only for about 2000 words (I used the version found <a href="http://jbauman.com/gsl.html">here</a>, by <a href="http://jbauman.com/index.html">John Bauman</a> as a the core of the list, and then scrounged the internet for other free sources. Since all of these were less common words than the ones in the <span class="caps">GSL</span> I gave them pretty arbitrary Bayes scores (4’s and 5’s for common words, 3’s for variants, plurals and participles). This is not sophisticated linguistics, but it’s close enough for&nbsp;horseshoes. </p>
<p>The result is up on github as <a href="https://github.com/theodox/spelchek">spelchek</a>, which I affectionately refer to as the <em>cheap-ass spell checker.</em><br />
It is hardly rocket science, but it does work. You can do something&nbsp;like:  </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">spelchek</span>  
<span class="n">spelchek</span><span class="o">.</span><span class="n">correct</span><span class="p">(</span><span class="s1">&#39;vhicle&#39;</span><span class="p">)</span>  
<span class="c1"># &#39;vehicle&#39;</span>
</pre></div>


<p>or   </p>
<div class="highlight"><pre><span></span><span class="n">spelchek</span><span class="o">.</span><span class="n">guesses</span><span class="p">(</span><span class="s1">&#39;flied&#39;</span><span class="p">)</span>  
<span class="c1"># [&#39;filed&#39;, &#39;flied&#39;, &#39;flies&#39;, &#39;lied&#39;]</span>
</pre></div>


<p>I would caution against using this for hard-core text work where perfect accuracy matters &#8212; like database stuff, a customer-facing website, or a word processor &#8212; since I did not go with high quality commercially or academically vetted word lists. I’m reasonably certain that there are some mis-spellings or oddballs in the 75,000 or so words I ended up with from various sources. Still, the module useful for my intended use, which is making sure that we don’t get things like ‘floder’, ‘frunishings’ and ‘vetegation’ (all of which shipped with in <a href="http://www.ign.com/games/state-of-decay-year-one-survival-edition/xbox-one-20023993">State of Decay</a>, I’m sorry to&nbsp;admit). </p>
<p>As always, <span class="caps">MIT</span> licensed so go to&nbsp;town. </p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>