<!DOCTYPE html>
<html lang="en">
<head>
        <title>Updating prefabs (and resetting&nbsp;pins)</title>
        <meta charset="utf-8" />
        <link href="http://theodox.com/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Chimeras & Manticores Full Atom Feed" />
        <link href="http://theodox.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Chimeras & Manticores Full RSS Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://theodox.com/">Chimeras & Manticores <strong>technical art, python, the games business, and obscurantism</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/about">About...</a></li>
            <li><a href="/pages/pub">Publications</a></li>
            <li><a href="http://astore.amazon.com/tecsurgui-20">Tech-Art Book Store</a></li>
            <li><a href="/pages/cookbook">Cookbook</a></li>
        </ul></nav><!-- /#menu -->
    <h1>Updating prefabs (and resetting&nbsp;pins)</h1>
    

    <p>Unlike returning a ball, the logic for resetting the pins in bowling is a bit complicated : you reset after two balls <em>or</em> after a strike. So in this step we&#8217;ll add one component to keep an eye on how many balls have been thrown and send a message to the pins that makes them reset as needed. Then we&#8217;ll add a component to the pin prefab that hears the reset message and sets the pins&nbsp;up.</p>
<ol>
<li>The scorekeeping component is <strong>Scorekeeper.cs</strong>.  Add it to the trigger.<blockquote>
<p>We could have included all of this logic into the ball return script. However using multiple, small components which each do only one thing is good practice for two reasons. First, it makes the code you have to read when something goes wrong smaller and simpler. Second, it makes it easier to re-use code between parts of the game or even between&nbsp;games.</p>
</blockquote>
</li>
<li>Now select one of the pins in the hierarchy window. Add a <strong>ResetPinPosition</strong> component to it in the usual&nbsp;way.</li>
<li>There are three buttons at the top of the inspector which appear only when you have a prefab selected in your scene:
   <p/><img alt="prefabbuttons" src="https://dl.dropboxusercontent.com/u/2977490/Unity%40makerhaus/gfx/Screenshot%202013-10-12%2022.56.19.png" /></li>
</ol>
<p><strong>Select</strong> will highlight the prefab object in the project&nbsp;window.</p>
<p><strong>Revert</strong> will undo any changes you&#8217;ve made to the selected prefab so that it exactly matches the original&nbsp;prefab</p>
<p><strong>Apply</strong> will copy any changes you&#8217;ve made to this prefab object to all other copies of the same&nbsp;prefab.</p>
<p>In this case we want the <strong>Apply</strong> button. That will add a copy of the <strong>ResetPinPosition</strong> to all of the other bowling pins.
4. Check some of the other pins and make sure they all have their <strong>ResetPinPosition</strong>&nbsp;components.</p>
<blockquote>
<p>It&#8217;s a good habit to save your scene after updating prefabs. You can&#8217;t force unity to save a prefab to disk on its own &#8212;  saving the scene, however,  forces all the prefabs to save as well.
5. Throw a couple of balls in play mode. After the second ball the pins should&nbsp;reset!</p>
</blockquote>
<p><a href="ex1-7">Back</a>
<a href="ex1-9">Next</a></p>

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>