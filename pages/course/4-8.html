<!DOCTYPE html>
<html lang="en">
<head>
        <title>Smoothing mouse&nbsp;moves</title>
        <meta charset="utf-8" />
        <link href="http://theodox.com/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Chimeras & Manticores Full Atom Feed" />
        <link href="http://theodox.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Chimeras & Manticores Full RSS Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://theodox.com/">Chimeras & Manticores <strong>technical art, python, the games business, and obscurantism</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/about">About...</a></li>
            <li><a href="/pages/pub">Publications</a></li>
            <li><a href="http://astore.amazon.com/tecsurgui-20">Tech-Art Book Store</a></li>
            <li><a href="/pages/cookbook">Cookbook</a></li>
        </ul></nav><!-- /#menu -->
    <h1>Smoothing mouse&nbsp;moves</h1>
    

    <p>If you need to use a mouse input like a joystick, it&#8217;s pretty simple to average out the movements to get rid of the jitter. This does make the input less responsive, too, so it might not work for&nbsp;everything.  </p>
<p>This technique requires an extra programming technique too: the use of a Generic&nbsp;list </p>
<ol>
<li>Go back to your&nbsp;script.</li>
<li>Up at the top, add this <pre>
using System.Collections.Generic;
</pre>
<strong>using</strong> tells C# to include additional functions and classes. In this case <strong>System.Collections.Generic</strong> includes some specialized classes for handling collections, and we need the <strong>Queue</strong> class to collect mouse&nbsp;samples. </li>
<li>Add a private field <pre>private Queue &lt; float &gt; Samples;</pre> The notation in angle brackets tells the queue to use floating point&nbsp;numbers.</li>
<li>In the <strong>Start</strong> method we need to make a Queue object to put into the variable we just made:<pre>Samples = new Queue&lt; float &gt; (30);
Samples.Add(0f);</pre> We put a single zero in there so we never have an empty&nbsp;list.</li>
<li>Now down in the <strong>Update</strong> method we&#8217;re going to add a way to track those mouse moves:<pre>Samples.Add(Input.GetAxis("Vertical");
float average = 0;
foreach (float f in Samples)
    {
    average += f;
    }
transform.position = Vector3.Forward * (average / Samples.Length);</pre>
We grab all of the numbers in the Queue, add them up, and divide by the number of items to get an average mouse move over the last 30 updates (we know it&#8217;s 30 because we made the Queue a size of&nbsp;30);</li>
</ol>
<p>This is a good trick for any situation where you want to avoid jerky inputs - you could do the same thing to smooth out key inputs or to make a joystick react more&nbsp;sluggishly.</p>
<h2>Important&nbsp;Note</h2>
<p>Set the input manager&#8217;s type back to <strong>Key or Mouse Button</strong>.  If you want to use mouse input this way in a game you want to use <pre>Input.GetAxis("MouseX")</pre> or <pre>Input.GetAxis("MouseY")</pre></p>
<p><a href="4-7">back</a> <a href="4-9">next</a></p>

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>